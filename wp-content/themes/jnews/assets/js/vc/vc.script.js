!function(t){"use strict";var e=function(t,e){if(!t.length||t.length<3)return e();wp.ajax.send(this.ajax,{data:{query:t,nonce:this.nonce}}).done((function(t){e(t)}))};function n(t){return"<i class='ivc fa "+t.id.toLowerCase()+"'/></i>"+t.text}t(".vc-select-wrapper").each((function(){var n,i,a=t(this).data("ajax"),s=t(this).data("multiple"),c=t(this).data("nonce");if(s>1){var o=t(this).find(".data-option").text(),r=JSON.parse(o);n=t(this).find("input"),i={plugins:["drag_drop","remove_button"],multiple:s,hideSelected:!0,persist:!0,options:r,render:{option:function(t){return"<div><span>"+t.text+"</span></div>"}}}}else n=t(this).find("select"),i={allowEmptyOption:!0};""!==a&&(i.load=e.bind({ajax:a,nonce:c}),i.create=!0,i.onItemAdd=function(){if("jeg_find_review"===a){var t=this.items;if(t.length>1)for(var e=0;e<t.length;e++)this.removeItem(t[e]),this.refreshOptions()}}),t(n).selectize(i)})),t(".number-input-wrapper input[type=text]").each((function(){var e=t(this).attr("min"),n=t(this).attr("max"),i=t(this).attr("step");t(this).spinner({min:e,max:n,step:i})})),t(".wp-tab-panel.vc_checkblock").each((function(){var e=this,n=t(e).find(".wpb-input");t(this).find(".checkblock").on("click",(function(){var i=[];t(e).find(".checkblock").each((function(){t(this).is(":checked")&&i.push(t(this).val())})),t(n).val(i)}))})),window.vc.atts.radioimage={init:function(e,n){t(".radio-image-wrapper label input",n).change((function(){t(this).closest(".radio-image-wrapper").find(".wpb_vc_param_value").val(t(this).val()).trigger("change")}))}},t(".slider-input-wrapper").each((function(){var e=t(this).find("input[type=range]");e.on("mousedown",(function(){t(this).mousemove((function(){var e=t(this).attr("value");t(this).closest("div").find(".jnews_range_value .value").text(e)}))})),e.on("click",(function(){var e=t(this).attr("value");t(this).closest("div").find(".jnews_range_value .value").text(e)})),t(this).find(".jnews-slider-reset").on("click",(function(){thisInput=t(this).parent().find("input"),inputDefault=thisInput.data("reset_value"),thisInput.val(inputDefault),thisInput.change(),t(this).parent().find(".jnews_range_value .value").text(inputDefault)}))})),t(".input-uploadfile").each((function(){var e=t(this).find('input[type="text"]');t(this).find(".selectfileimage").on("click",(function(t){t.preventDefault(),custom_uploader=wp.media.frames.file_frame=wp.media({multiple:!1}),custom_uploader.on("select",(function(){attachment=custom_uploader.state().get("selection").first().toJSON();var t=attachment.url;e.val(t)})),custom_uploader.open()}))})),t(".sectionid-input > input").blur((function(){var e=t(this).val(),n=e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");t(this).val(n)})),t(".sectionid-input > select").each((function(){t(this).select2({placeholder:"Select",allowClear:!0,formatResult:n,formatSelection:n,escapeMarkup:function(t){return t}})})),t(".jnews_token_access.facebook").on("click",(function(e){e.preventDefault();var n,i=t(this),a=i.parents("#vc_edit-form-tab-0"),s={client_id:a.find("input.fb_id").val(),client_secret:a.find("input.fb_secret").val(),grant_type:"client_credentials"};t.ajax({url:"https://graph.facebook.com/oauth/access_token",data:s,dataType:"json",type:"POST",beforeSend:function(t){i.parent().find(".jnews-spinner").addClass("active")}}).done((function(t,e,i){n=t.access_token,a.find("input.fb_key").val(n)})).fail((function(t,e,n){window.alert("Info Message: "+n)})).always((function(t,e,n){i.parent().find(".jnews-spinner").removeClass("active")}))})),t(".jnews_instagram_access_token").on("click",(function(e){e.preventDefault();var n=t(this),i=n.parents(".vc_edit-form-tab.vc_active"),a=n.attr("href"),s="https://api.instagram.com/oauth/authorize/?client_id="+i.find("input.clientid").val()+"&redirect_uri="+a+"&response_type=token";window.open(s,"_blank").focus()}))}(window.jQuery);